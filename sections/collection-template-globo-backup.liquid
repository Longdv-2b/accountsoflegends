<div class="row">
  {% for product in collection.products %}
  <div class="col-md-4 mb-5">
    <div class="row ml-0 mr-0 product-row">
      <div class="col-md-12 p-0 mb-3 product-photos">
        {% assign server = '' %}
        {% assign winrate = '' %}
        {% assign level = '' %}
        {% assign rank = '' %}
        {% assign win = '' %}
        {% assign champion = '' %}
        {% assign essence = '' %}
        {% assign skin = '' %}
        {% assign division = '' %}
        {% for tag in product.tags %}
        {% assign downtag = tag | downcase %}

        {% if downtag contains 'server' %}
        {% assign server = tag %}
        {% endif %}
        {% if downtag contains 'level' %}
        {% assign level = tag %}
        {% endif %}
        {% if downtag contains 'winrate' %}
        {% assign winrate = tag %}
        {% endif %}
        {% if downtag contains 'rank' %}
        {% assign rank = tag %}
        {% endif %}
        {% if downtag contains 'win/loss' %}
        {% assign win = tag %}
        {% endif %}
        {% if downtag contains 'champion' %}
        {% assign champion = tag %}
        {% endif %}
        {% if downtag contains 'blue essence' %}
        {% assign essence = tag %}
        {% endif %}
        {% if downtag contains 'skins' %}
        {% assign skin = tag %}
        {% endif %}
        {% if downtag contains 'division' %}
        {% assign division = tag %}
        {% endif %}

        {% endfor %}

        <a href="{{ product.url | within: collection }}">
          <div class="flag-content-main">
            <svg viewBox="0 0 300 408" class="flag flag-{% if product.tags contains 'iron' or product.tags contains 'Iron' %}iron{% elsif product.tags contains 'bronze' or product.tags contains 'Bronze' %}bronze{% elsif product.tags contains 'silver' or product.tags contains 'Silver' %}silver{% elsif product.tags contains 'gold' or product.tags contains 'Gold' %}gold{% elsif product.tags contains 'platinum' or product.tags contains 'Platinum' %}platinum{% elsif product.tags contains 'diamond' or product.tags contains 'Diamond' %}diamond{% endif %} flag-current" style="width: 80% !important;height: auto !important;">
              <defs>
                <linearGradient x2="0" y2="1" id="current-flag-pole-gradient">
                  <stop offset="0%" stop-color="#FFFFFF"></stop>
                  <stop offset="33%" stop-color="#333333"></stop>
                  <stop offset="50%" stop-color="#FFFFFF"></stop>
                  <stop offset="73%" stop-color="#8F8F8F"></stop>
                  <stop offset="100%" stop-color="#000000"></stop>
                </linearGradient>
                <linearGradient x2="0" y2="1" id="current-base-gradient-{{product.id}}">
                  <stop class="flag__base-gradient-start" offset="0%"></stop>
                  <stop class="flag__base-gradient-stop" offset="100%"></stop>
                </linearGradient>
                <clipPath id="current-baseShape">
                  <path d="M290,3c0,-0.796 -0.316,-1.559 -0.879,-2.121c-0.562,-0.563 -1.325,-0.879 -2.121,-0.879c-28.169,0 -245.831,0 -274,0c-0.796,0 -1.559,0.316 -2.121,0.879c-0.563,0.562 -0.879,1.325 -0.879,2.121c0,31.369 0,298.658 0,322.72c0,1.072 0.571,2.062 1.499,2.599c14.078,8.147 122.921,71.13 137.002,79.279c0.927,0.536 2.071,0.536 2.998,0c14.08,-8.148 122.914,-71.126 137,-79.278c0.929,-0.537 1.501,-1.529 1.501,-2.602c0,-24.078 0,-291.35 0,-322.718Z"></path>
                </clipPath>
              </defs>
              <rect class="flag__pole" height="10" rx="5" width="300" x="0" y="4" style="fill: url(&quot;#current-flag-pole-gradient&quot;);"></rect>
              <path class="flag__base" d="M290,3c0,-0.796 -0.316,-1.559 -0.879,-2.121c-0.562,-0.563 -1.325,-0.879 -2.121,-0.879c-28.169,0 -245.831,0 -274,0c-0.796,0 -1.559,0.316 -2.121,0.879c-0.563,0.562 -0.879,1.325 -0.879,2.121c0,31.369 0,298.658 0,322.72c0,1.072 0.571,2.062 1.499,2.599c14.078,8.147 122.921,71.13 137.002,79.279c0.927,0.536 2.071,0.536 2.998,0c14.08,-8.148 122.914,-71.126 137,-79.278c0.929,-0.537 1.501,-1.529 1.501,-2.602c0,-24.078 0,-291.35 0,-322.718Z" style="fill: url(&quot;#current-base-gradient-{{product.id}}&quot;);"></path>
              <path class="flag__decor--outer" d="M280.472,293.517c-0.216,0.046 -0.432,0.094 -0.648,0.143c-17.081,4.032 -28.667,24.458 -21.178,41.931l-109.174,61.948l-108.621,-61.635c4.271,-9.589 3.133,-21.201 -2.755,-29.75c-4.507,-6.545 -11.586,-11.211 -19.457,-12.745l-0.167,-0.032l0,-530.838l262,0l0,530.978Zm-259,-527.978l0,525.442c17.873,4.736 29.545,25.12 23.15,43.56c0,0 104.85,59.549 104.85,59.549l105.449,-59.835c-0.068,-0.2 -0.133,-0.401 -0.197,-0.602c-5.283,-16.84 4.813,-37.203 22.665,-42.455l0.083,-0.024l0,-525.635l-256,0Z"></path>
              <path class="flag__decor--inner" d="M274.472,319.428l-125,70.611l-125,-70.611l0,-549.389l250,0l0,549.389Zm-249,-548.389l0,547.805l124,70.047l124,-70.047l0,-547.805l-248,0Z"></path>
              <g clip-path="url(#current-baseShape)">
                <image class="flag-shadow" href="{{'shade-1.png' | asset_url }}"></image>
                <image class="flag-shadow" href="{{'shade-2.png' | asset_url }}"></image>
                <image class="flag-shadow" href="{{'shade-1.png' | asset_url }}"></image>
                <image class="flag-shadow" href="{{'shade-1.png' | asset_url }}"></image>
                <image class="flag-shadow" href="{{'shade-3.png' | asset_url }}"></image>
              </g>
            </svg>
            <div class="flag-content">
              <div _ngcontent-serverapp-c7="" class="flag-rank text-bj">
                <img _ngcontent-serverapp-c7="" alt="" class="flag-rank__icon" src="{{ product.featured_image.src | img_url: '150x' }}">
                <div _ngcontent-serverapp-c7="" class="editable">
                  <span _ngcontent-serverapp-c7="" class="flag-rank__division">
                    {% if product.tags contains 'iron' or product.tags contains 'Iron' %}
                    Iron
                    {% elsif product.tags contains 'bronze' or product.tags contains 'Bronze' %} 
                    Bronze
                    {% elsif product.tags contains 'silver' or product.tags contains 'Silver' %} 
                    Silver
                    {% elsif product.tags contains 'gold' or product.tags contains 'Gold' %} 
                    Gold
                    {% elsif product.tags contains 'platinum' or product.tags contains 'Platinum' %} 
                    Platinum
                    {% elsif product.tags contains 'diamond' or product.tags contains 'Diamond' %} 
                    Diamond 
                    {% endif %}
                  </span>
                  {% if division != blank %}
                  <span _ngcontent-serverapp-c7="" class="flag-rank__subdivision">{{division}}</span>
                  {% endif %}
                </div>
                <div _ngcontent-serverapp-c7="" class="flag-row">
                  <div _ngcontent-serverapp-c7="" class="flag-col">
                    <p _ngcontent-serverapp-c7="" class="flag-region editable">
                      <small _ngcontent-serverapp-c7=""><img src="{{ 'champ_60x.png' | asset_url }}"></small>
                      <small _ngcontent-serverapp-c7="" style="font-size: 8px;">CHAMPIONS</small>
                      {{ champion | split:" " | last }} 
                    </p>
                  </div>
                  <div _ngcontent-serverapp-c7="" class="flag-col">
                    <p _ngcontent-serverapp-c7="" class="flag-region editable">
                      <small _ngcontent-serverapp-c7=""><img src="{{ 'essences_60x.png' | asset_url }}"></small>
                      <small _ngcontent-serverapp-c7="" style="font-size: 8px;">ESSENCES</small>
                      {{ essence | split:" " | last }} 
                    </p>
                  </div>
                  <div _ngcontent-serverapp-c7="" class="flag-col">
                    <p _ngcontent-serverapp-c7="" class="flag-lp editable">
                      <small _ngcontent-serverapp-c7=""><img src="{{ 'stars_60x.png' | asset_url }}"></small>
                      <small _ngcontent-serverapp-c7=""  style="font-size: 8px;">LEVEL</small>
                      {{ level | split:" " | last }} 
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </a>
      </div>
      <div class="pro_description"><b>{{product.description | strip_html  | truncate: 90}}</b></div>
      <div class="col-md-12 px-3 py-0 mt-3 product-tags">
        <div class="wrap-specification">
          <ul class="list">
            <li class="item">
              <span class="label" style="    color: #313131;">Server:</span>
              <span class="value">{{ server | split:" " | last }}</span>
            </li>
            <li class="item">|</li>
            <li class="item">
              <span class="label" style="    color: #313131;">Rank:</span>
              <span class="value">{{ rank | remove:"Rank" }}</span>
            </li>
          </ul>
        </div>
        <!--             <h3 style="color: #fff;">{{product.title}}</h3> -->
        <div class="prices">
          {% if product.compare_at_price > product.price %}
          <span class="compare-price">
            {{ product.compare_at_price_max | money }}
          </span>
          <span class="price on-sale" itemprop="price">
            {{ product.price | money }}
          </span>
          {% else %}
          <span class="price" itemprop="price">
            {{ product.price | money }}
          </span>
          {% endif %}
        </div>

        <div class="btn-action text-center">
          <a href="{{ product.url | within: collection }}" class="btn btn-x1 my-4">Details</a>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

{% schema %}
    {
        "name": "Collection",
        "settings": [
            	  
        ]
    }
{% endschema %}
